APP_NAME='Chat IA GLPI'
APP_VERSION=1.0.0
DEBUG=True

HOST=0.0.0.0
PORT=8000

QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_COLLECTION=artigos_glpi

# LLM Provider Configuration (groq, ollama, hybrid)
LLM_PROVIDER=hybrid
LLM_TEMPERATURE=0.2
LLM_TOP_P=0.9
LLM_SEED=42

# Groq Configuration (Cloud LLM - Primary)
GROQ_API_KEY=
GROQ_MODEL=llama-3.1-8b-instant
GROQ_TIMEOUT=30
GROQ_MAX_TOKENS=2048

# Ollama Configuration (Local LLM - Fallback)
OLLAMA_HOST=http://localhost:11434
OLLAMA_MODEL=qwen2.5:3b
OLLAMA_TIMEOUT=120
OLLAMA_MAX_TOKENS=2048
# Resource control to prevent high CPU usage (adjust based on server hardware)
OLLAMA_NUM_THREAD=4
OLLAMA_NUM_CTX=2048
# Docker container settings for concurrent users
# OLLAMA_NUM_PARALLEL: Number of concurrent requests (each uses ~2-4GB extra RAM)
# - Development: 1-2
# - Production (16GB RAM): 2-3
# - Production (32GB+ RAM): 4-6
OLLAMA_NUM_PARALLEL=2
OLLAMA_CPU_LIMIT=6
OLLAMA_MEMORY_LIMIT=8G

EMBEDDING_MODEL=all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384

TOP_K_RESULTS=10
MIN_SIMILARITY_SCORE=0.18

ENABLE_CLARIFICATION=true
ENABLE_RERANKING=true

# Advanced RAG Configuration
FALLBACK_MIN_SCORE=0.05
ENABLE_QUERY_EXPANSION=true

# Cross-Encoder Reranking (Multilingual)
# Options: jinaai/jina-reranker-v2-base-multilingual (recommended), BAAI/bge-reranker-v2-m3, mixedbread-ai/mxbai-rerank-large-v1
CROSS_ENCODER_MODEL=jinaai/jina-reranker-v2-base-multilingual
RERANKING_ORIGINAL_WEIGHT=0.3
RERANKING_CROSS_ENCODER_WEIGHT=0.7

# Hybrid Search Strategy
HYBRID_VECTOR_WEIGHT=0.7
HYBRID_TEXT_WEIGHT=0.3
HYBRID_RRF_K=60

# MMR & Gating
MMR_LAMBDA=0.7
ANCHOR_GATING_THRESHOLD=0.3

# Document Processing
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
MIN_CHUNK_SIZE=100

# QA Memory
QA_MEMORY_MIN_CONFIDENCE=0.55
QA_MEMORY_MIN_ANSWER_LENGTH=40

# Streaming
STREAM_FINALIZE_TIMEOUT=1.0

LOG_LEVEL=INFO

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_SSL=False
REDIS_MAX_CONNECTIONS=50
CACHE_DEFAULT_TTL=3600

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================

JWT_SECRET=change-me-to-a-secure-random-string-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=7

PASSWORD_HASH_ITERATIONS=200000
PASSWORD_HASH_ITERATIONS_DEV=50000

# ============================================================================
# RATE LIMITING
# ============================================================================

RATE_LIMIT_ENABLED=True
RATE_LIMIT_REQUESTS=50
RATE_LIMIT_WINDOW=60
RATE_LIMIT_STRATEGY=sliding_window

# ============================================================================
# GLPI DATABASE CONFIGURATION
# ============================================================================

GLPI_DB_HOST=localhost
GLPI_DB_PORT=3307
GLPI_DB_NAME=glpi
GLPI_DB_USER=glpi
GLPI_DB_PASSWORD=glpi123
GLPI_DB_PREFIX=glpi_

GLPI_SYNC_INTERVAL_HOURS=24
GLPI_MIN_CONTENT_LENGTH=50

# ============================================================================

# ============================================================================
# DATABASE CONFIGURATION - PostgreSQL
# ============================================================================

POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DATABASE=financial_agent
POSTGRES_USER=financial_agent_user
POSTGRES_PASSWORD=change_this_password_in_production
POSTGRES_MIN_CONNECTIONS=2
POSTGRES_MAX_CONNECTIONS=10

# ============================================================================

CHAT_HISTORY_MAX_MESSAGES=8
CHAT_HISTORY_RETENTION_DAYS=90
CHAT_HISTORY_PURGE_INTERVAL_SEC=3600

CORS_ORIGINS=http://localhost:3000,http://localhost:5173
